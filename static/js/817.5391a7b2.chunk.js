"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[817],{267:function(t,e,n){n.d(e,{Bt:function(){return l},VQ:function(){return f},Vu:function(){return v},mC:function(){return s},y:function(){return p}});var r=n(861),a=n(757),u=n.n(a),c=n(44),o="https://api.themoviedb.org/3",i="ab5292459fe4dd5c494b0166be76ca45",s=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.get("".concat(o,"/trending/movie/week?api_key=").concat(i));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.get("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&page=1&include_adult=true"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},817:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(885),a=n(791),u=n(731),c=n(689),o=n(184);function i(t){var e=t.onSearch,n=(0,a.useState)(""),u=(0,r.Z)(n,2),c=u[0],i=u[1];return(0,o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==c.trim()?(e(c),i("")):alert("Write field to search films!")},children:[(0,o.jsx)("button",{type:"submit",children:" Find film!"}),(0,o.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",onChange:function(t){i(t.currentTarget.value.toLowerCase())},value:c})]})}var s=n(267),f=function(){var t=(0,a.useState)([]),e=(0,r.Z)(t,2),n=e[0],f=e[1],p=(0,u.lr)(),l=(0,r.Z)(p,2),v=l[0],h=l[1],d=(0,c.TH)();return(0,a.useEffect)((function(){var t,e=null!==(t=v.get("query"))&&void 0!==t?t:"";e&&s.Vu(e).then(f)}),[v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,{onSearch:function(t){h({query:t})}}),n.length>0?(0,o.jsx)("div",{className:"wrap-films",children:n.map((function(t){var e=t.title,n=t.id;return(0,o.jsx)(u.rU,{to:"".concat(n),state:{from:d},children:e},n)}))}):(0,o.jsx)("p",{children:"Enter movie name."})]})}}}]);
//# sourceMappingURL=817.5391a7b2.chunk.js.map